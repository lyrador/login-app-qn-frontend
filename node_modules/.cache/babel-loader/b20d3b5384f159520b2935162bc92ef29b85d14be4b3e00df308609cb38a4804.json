{"ast":null,"code":"var _jsxFileName = \"/Users/darylyee/Downloads/DXC Assessment/login-frontend/src/pages/LoginPage.js\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Box from '@mui/material/Box';\nimport Container from '@mui/material/Container';\nimport axios from \"axios\";\nimport { useAuth } from '../context/AuthProvider';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [usernameError, setUsernameError] = useState({\n    value: false,\n    errorMessage: ''\n  });\n  const [passwordError, setPasswordError] = useState({\n    value: false,\n    errorMessage: ''\n  });\n  auth.logout();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setPasswordError({\n      value: false,\n      errorMessage: ''\n    });\n    setUsernameError({\n      value: false,\n      errorMessage: ''\n    });\n    if (password == '') {\n      setPasswordError({\n        value: true,\n        errorMessage: 'You must enter a password'\n      });\n    }\n    if (username == '') {\n      setUsernameError({\n        value: true,\n        errorMessage: 'You must enter a username'\n      });\n    }\n    if (password && username) {\n      try {\n        const response = await axios({\n          method: 'post',\n          url: `http://localhost:8080/user/login`,\n          headers: {},\n          data: {\n            username: username,\n            password: password\n          }\n        });\n        const user = response.data;\n        console.log(user);\n        if (user.isActive === \"false\") {\n          setPasswordError({\n            value: true,\n            errorMessage: 'User is disabled!'\n          });\n          setUsernameError({\n            value: true,\n            errorMessage: 'User is disabled!'\n          });\n        } else {\n          auth.login(response.data);\n          console.log(response.data);\n          if (user.userType === \"LEARNER\") {\n            navigate(\"/learnerHome\");\n          } else {\n            navigate('/home');\n          }\n        }\n      } catch (error) {\n        console.log(error.message);\n        setPasswordError({\n          value: true,\n          errorMessage: 'User does not exist or password does not match'\n        });\n        setUsernameError({\n          value: true,\n          errorMessage: 'User does not exist or password does not match'\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    position: \"fixed\",\n    top: 0,\n    height: \"100%\",\n    width: \"100%\",\n    bgcolor: 'white',\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 15,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          noValidate: true,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"Username\",\n            label: \"Username\",\n            name: \"username\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            autoFocus: true,\n            error: usernameError.value,\n            helperText: usernameError.errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            error: passwordError.value,\n            helperText: passwordError.errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            onClick: handleSubmit,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              justifyContent: 'center',\n              display: 'flex'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"JQl19BcoslRB1ETyXHww6w+Oloc=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Button","CssBaseline","TextField","FormControlLabel","Box","Container","axios","useAuth","useNavigate","Link","useState","jsxDEV","_jsxDEV","Login","_s","auth","navigate","username","setUsername","password","setPassword","usernameError","setUsernameError","value","errorMessage","passwordError","setPasswordError","logout","handleSubmit","event","preventDefault","response","method","url","headers","data","user","console","log","isActive","login","userType","error","message","position","top","height","width","bgcolor","children","component","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","sx","marginTop","display","flexDirection","alignItems","onSubmit","noValidate","mt","margin","required","fullWidth","id","label","name","onChange","e","target","autoFocus","helperText","type","variant","mb","onClick","style","justifyContent","_c","$RefreshReg$"],"sources":["/Users/darylyee/Downloads/DXC Assessment/login-frontend/src/pages/LoginPage.js"],"sourcesContent":["import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Box from '@mui/material/Box';\nimport Container from '@mui/material/Container';\nimport axios from \"axios\";\nimport { useAuth } from '../context/AuthProvider';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { useState } from \"react\";\n\nexport default function Login() {\n  const auth = useAuth()\n  const navigate = useNavigate()\n  const [username, setUsername] = React.useState(\"\")\n  const [password, setPassword] = React.useState(\"\")\n\n  const [usernameError, setUsernameError] = useState({ value: false, errorMessage: '' })\n  const [passwordError, setPasswordError] = useState({ value: false, errorMessage: '' })\n\n  auth.logout()\n  const handleSubmit = async (event) => {\n    \n    event.preventDefault();\n\n    setPasswordError({ value: false, errorMessage: '' })\n    setUsernameError({ value: false, errorMessage: '' })\n\n    if (password == '') {\n      setPasswordError({ value: true, errorMessage: 'You must enter a password' })\n    }\n    if (username == '') {\n      setUsernameError({ value: true, errorMessage: 'You must enter a username' })\n    }\n\n    if (password && username) {\n      try {\n        const response = await axios({\n          method: 'post',\n          url: `http://localhost:8080/user/login`,\n          headers: {},\n          data: {\n            username: username,\n            password: password,\n          }\n        });\n\n        const user = response.data;\n        console.log(user);\n        if (user.isActive === \"false\") {\n          setPasswordError({ value: true, errorMessage: 'User is disabled!' })\n          setUsernameError({ value: true, errorMessage: 'User is disabled!' })\n        } else {\n          auth.login(response.data);\n          console.log(response.data);\n          if(user.userType === \"LEARNER\") {\n            navigate(\"/learnerHome\")\n          } else {\n            navigate('/home');\n          }\n          \n          \n        }\n      } catch (error) {\n        console.log(error.message)\n        setPasswordError({ value: true, errorMessage: 'User does not exist or password does not match' })\n        setUsernameError({ value: true, errorMessage: 'User does not exist or password does not match' })\n      }\n    }\n\n\n  };\n\n  return (\n    <Box position=\"fixed\"\n      top={0}\n      height=\"100%\"\n      width=\"100%\"\n      bgcolor={'white'}\n    >\n        <Container component=\"main\" maxWidth=\"lg\">\n          <CssBaseline />\n          <Box\n            sx={{\n              marginTop: 15,\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}\n          >\n            <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"Username\"\n                label=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                autoFocus\n                error={usernameError.value}\n                helperText={usernameError.errorMessage}\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                error={passwordError.value}\n                helperText={passwordError.errorMessage}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                sx={{ mt: 3, mb: 2 }}\n                onClick={handleSubmit}\n              >\n                Sign In\n              </Button>\n              <div style={{ justifyContent: 'center', display: 'flex' }}>\n              </div>\n            </Box>\n          </Box>\n        </Container>\n    </Box>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}